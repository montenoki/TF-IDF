from sklearn.feature_extraction.text import TfidfVectorizer
import numpy as np


def main():
    search_question = "Trump Facebook"
    corpus = [
        """Donald Trump's ban from Facebook and Instagram has been upheld by Facebook's Oversight Board. But it criticised the indefinite nature of the ban as beyond the scope of Facebook's normal penalties. It has ordered Facebook to review the decision and "justify a proportionate response" that is applied to everyone, including ordinary users. The former president was banned from both sites in January following the Capitol Hill riots. The Oversight Board said the initial decision to permanently suspend Mr Trump was "indeterminate and standardless", and that the correct response should be "consistent with the rules that are applied to other users of its platform". Facebook must respond within six months, it said. At a press conference, co-chair Helle Thorning-Schmidt admitted: "We did not have an easy answer." She added that she felt Facebook would "appreciate the decision". "We are telling Facebook to go back and be more transparent about how it assesses these things. Treat all users the same and don't give arbitrary penalties." In response, Facebook said it would "consider the board's decision and determine an action that is clear and proportionate". The board also made a number of recommendations about how Facebook should improve its policies and the social network promised to "carefully review" these. The Board was due to announce its decision last month but delayed the ruling in order to review more than 9,000 public responses to cases, it said. In the meantime, Mr Trump, who is also banned from Twitter, launched a new website on Tuesday to update supporters with his thoughts. Following the ruling, Mr Trump wrote that "what Facebook, Twitter, and Google have done is a total disgrace". "Free speech has been taken away from the President of the United States because the radical left lunatics are afraid of the truth," he said, referring to himself as president. "The people of our country will not stand for it! These corrupt social media companies must pay a political price, and must never again be allowed to destroy and decimate our electoral process," he said. The administration of Mr Trump's successor, Democratic President Joe Biden, declined to comment on Facebook's ruling on Wednesday. But White House Press Secretary Jen Psaki said it was President Biden's view that "major platforms have a responsibility related to the health and safety of all Americans to stop amplifying untrustworthy content, disinformation and misinformation".""",
        """Twitter will now prompt users to review and revise "potentially harmful or offensive" replies. The social media platform, which has often faced criticism over abusive user behaviour, tested the feature last year. Twitter said the tests showed that the prompts reduced offensive replies. On Wednesday, the company said it would roll the prompts out to English language accounts using Twitter on Apple and Android. 'The mum-shaming on social media is mind-blowing' Australia MP steps aside amid harassment complaints Chinese woman defends herself after Covid shaming In a blog post, Twitter said they had found that prompts led 34% of people to revise their initial reply or to decide against sending their reply at all. Users composed, on average, 11% fewer offensive replies after being prompted for the first time, Twitter said. They were also less likely to receive offensive and harmful replies back. The BBC is not responsible for the content of external sites. View original tweet on Twitter It seems, however, that you can still swear at your friends. Twitter said the prompts are designed to consider the nature of the relationship between the accounts that tweets and the account that replies. "If two accounts follow and reply to each other often, there's a higher likelihood that they have a better understanding of preferred tone of communication," the blog post said. Platforms target user behaviour Tech platforms have grappled in recent years with how to police offensive content, abuse and harassment on their platforms. Twitter's most recent statistics, for January to June last year, show that the platform removed potentially offensive content posted by 1.9 million accounts, and suspended 925,700 accounts for violating Twitter rules. The debate over content moderation has recently become more intense, because of decisions taken by social media giants against public officials, particularly former US President Donald Trump. Mr Trump was banned from a number of platforms, including Twitter and Facebook, following the Capitol Hill riots on 6 January. Facebook's oversight board upheld the decision on Wednesday, but criticised the platform for an making the suspension indefinite and gave it six months to determine a proportionate response. Although many believe platforms should be more aggressive in policing online abuse and false information, many see Mr Trump's ban as an act of political censorship.""",
        """Google's chief executive has sent an email to employees encouraging them to return to work in the office for at least three days a week as lockdowns ease. The firm began reopening offices in April, and has now laid out the details of how it envisages the new hybrid working week. In the email, Sundar Pichai extols the benefits of office working. Twitter, by contrast, has said that employees can work from home "forever". Facebook has also said that its employees can continue to be home-based. Google was one of the first companies to offer working from home when the pandemic struck last year. People can continue to work remotely until September. Previously, Googlers, as staff are known, had to formally apply if they wanted to work from a remote location (other than their home) for more than two weeks. That has now been expanded to four weeks. Is Big Tech going off remote working? Google rejigs remote working as it reopens offices In the email, seen by the BBC, Mr Pichai writes about the benefits of being in an office: "For more than 20 years, our employees have been coming to the office to solve interesting problems - in a cafe, around a whiteboard, or during a pick-up game of beach volleyball or cricket." He said that in locations where offices had already opened, "we've seen nearly 60% of Googlers choosing to come back". 'Take care' He added that he envisaged a workforce where 60% were office based, 20% were in "new office locations" and 20% were working from home. In terms of the numbers of days in each location, he said that teams would come together in the office "approximately three days" a week, and work "wherever suits them best" for two days. Some teams though would "need to be on site more than three days a week due to the nature of the work". Many had assumed that, especially in Silicon Valley, working from home would become the norm post-pandemic. Mr Pichai, who is Indian-born, also said it was "heartbreaking" to see Covid surging in places such as India and Brazil. For employees living there he had a simple message: "Please focus on taking care of yourselves and your loved ones. We are here to support however we can." """,
        """For SpaceX, lunar missions would be just one application of many for the new system. The expectation is that Starships will replace the company's Falcon rockets. These existing vehicles carry out regular missions - both crewed and uncrewed - for Nasa, as well as satellite deployments for the US military and other commercial operators. But SpaceX CEO, Elon Musk, believes the new 50m-tall Starship can do it all, bigger and better - and not just at Earth; he says the technology will get people to Mars. Wednesday's test proceeded much like the previous prototype flights. The uncrewed SN15 left its launch mount at the Boca Chica facility, and rose vertically on the thrust of three methane-burning Raptor engines. These power units shut down in sequence as the target height of roughly 10km (6.2 miles) was approached, with the vehicle then leaning over into the horizontal for the drop to the ground. This belly-flop descent, controlled by large flaps at either end of the vehicle, is intended to simulate how future, operational Starships will re-enter the Earth's atmosphere from orbit, presenting a large surface area to the direction of travel to scrub off speed. The vehicle is supposed to transition back to a tail-down configuration just before reaching the surface. SN8, SN9, SN10 and SN11 couldn't manage the process cleanly and were destroyed just before, at, or shortly after the moment of touchdown. SN15, in contrast, made a perfect flip back to the vertical and set itself down gently on its stubby legs. SpaceX has more prototypes in various stages of readiness. It is iterating the design, making upgrades as engineers learn how to build and fly the rockets. Operational Starships will eventually launch atop a booster called Super Heavy. This will feature perhaps 28 Raptors, producing more than 70 meganewtons (16 million lbs) of thrust - about double that of the mighty Apollo Saturn 5 rocket, which sent men to the Moon.""",
        """Peloton has recalled treadmills in the US and UK over a series of safety issues following investigations by a US watchdog. In the US, 125,000 Tread and Tread+ machines are being recalled after the death of a six-year-old child. The watchdog said they could cause injury or death to adults, children and pets if they get pulled underneath. Tread machines sold in the UK are also being recalled because display consoles could fall off. In addition to the death, Peloton had 72 reports of injuries such as broken bones, cuts and grazes. Peloton boss John Foley said the firm had "made a mistake" in not recalling the machines sooner. In March, Peloton warned parents to keep children away from its Tread+ machine after the death of the six-year-old, who was pulled underneath the rear of the treadmill. At the time Mr Foley called it a "tragic accident" - one of a "small handful" of incidents in which children have been hurt on the firm's exercise equipment. Peloton warning after ‘tragic’ child death "I want to be clear, Peloton made a mistake in our initial response to the Consumer Product Safety Commission's request that we recall the Tread+," Mr Foley said in a statement on Wednesday. "We should have engaged more productively with them from the outset. For that, I apologise. "The US Consumer Product Safety Commission (CPSC) said that Peloton had voluntarily recalled the Tread+ and Peloton Tread, which posed a safety risk because the display console can fall off. An agreement between the watchdog and Peloton means the firm must stop selling the machines in the US and give a full refund to people who want to return them. UK sales Because of the type motor used in the Tread+, the machine needs a higher ground clearance than typical treadmills. Robert Adler, Acting Chairman of the CPSC, said: "The agreement between CPSC and Peloton is the result of weeks of intense negotiation and effort, culminating in a cooperative agreement that I believe serves the best interests of Peloton and of consumers. "I would like to thank the CPSC technical staff who have worked tirelessly to protect consumers and to warn the public. Today we have taken steps to prevent further harm from these two products." The company has yet to respond to a BBC request for clarity over how the recall might affect sales outside the US. However, the PA news agency said a Peloton spokesman confirmed that the recall also related to the Tread in the UK. In the US, the Tread was only sold as part of a limited invitation-only release from about November, 2020 to about March, 2021 and the company's statement said it "is currently working on a repair to be offered to Tread owners in the coming weeks". But the statement does not mention Tread repairs outside the US. The touchscreen on the Tread can detach and fall, according to the CPSC. There have been reports of minor injuries such as abrasions, cuts and bruises in the UK and Canada. However, the Tread+ carries a more serious hazard because "adult users, children, pets and objects can be pulled underneath the rear of the treadmill, posing a risk of injury or death". Peloton rose to prominence during the pandemic as a premium option for allowing people to exercise from home with live video from trainers, as gyms were forced to close. Shares in the New York-based company tumbled more than 14% after the recall announcement. In addition to the death, there have been about 72 reports of adult users, children, pets and objects being pulled under the rear of the treadmill, including 29 reports of injuries to children such as second and third-degree abrasions, broken bones and lacerations.""",
        """Apple has added extra paid-for advertisements to its App Store, a week after its new operating system limited tracking for ads from other companies. The new ad space lets app-makers advertise on the App Store search tab, rather than just in the search results. Last week's release of iOS 14.5 placed strict limits on tracking on iPhones - including tracking for advertising. And Facebook fiercely opposed the change, warning it would favour Apple's own advertising system. Apple's App Tracking Transparency feature requires apps on iPhones to ask for permission to track the user for advertising. During a long-running row between the two, Facebook had warned Apple's "privacy" features would hurt advertisers - including app makers - and benefit Apple. "Apple's policies leave very limited options for app developers to find customers through effective advertising - and, conveniently, Apple's own advertising products is one of them," Facebook had said. 'Increased demand' Previously, Apple sold adverts to appear at the top of search results only. The new slot effectively doubles the advertising space for sale. Enders Analysis senior media analyst Jamie MacEwan said: "The timing makes sense. "Apple probably anticipates increased demand for exposure on the App Store. That's because Apple's iOS privacy changes have made other options less attractive." Facebook v Apple: The ad tracking row heats up Google promises to drop personalised ad tracking Ad campaigns on other sites had less reliable measurements of success, he said. And app developers ran ads only if they were sure the cost of winning new customers was lower than the amount they would spend on the app. "As its ads business grows, Apple will have to make sure its execution on consent and privacy is impeccable" to avoid accusations of putting itself first, Mr MacEwan added. Some reports suggest Apple's ad sales could be worth more than $2bn and are growing. Apple has not responded to a request for comment on the timing of the new advertising product launch. Legal battle The new feature also comes as internal Apple emails reveal a tension in the company over its advertising business. The emails, between Apple employees in 2015, discussed the possibility of adding adverts to the App Store, after Google launched them for its own Android store. The documents emerged as part of Apple's continuing legal battle with Epic Games and were first reported on by Apple news site 9to5Mac. Apple anti-fraud unit head Eric Friedman was discussing the idea of ads with engineer David Neumann, the documents reveal, and how they could work better for app discovery than a "top apps" chart. "The dev[eloper]s would love it," Mr Friedman wrote. "The problem is that [Apple chief executive Tim Cook] is telling the world that we make great products without monetising users. "Ads would be weirdly at odds with that." Mr Cook has long criticised big technology companies for monetising users' data, whereas Apple makes most of its money through selling high-end devices. Apple ended up introducing its first App Store ads in mid-2016, more than a year after those emails. But the number of ads it displays remains low compared with rival Google Play, or most social networks.""",
        """There remains "little association" between technology use and mental-health problems, a study of more than 430,000 10 to 15-year-olds suggests. The Oxford Internet Institute compared TV viewing, social-media and device use with feelings of depression, suicidal tendencies and behavioural problems. It found a small drop in association between depression and social-media use and TV viewing, from 1991 to 2019, There was a small rise in that between emotional issues and social-media use. Happy people "We couldn't tell the difference between social-media impact and mental health in 2010 and 2019," study co-author Prof Andrew Przybylski. said. "We're not saying that fewer happy people use more social media. "We're saying that the connection is not getting stronger." And this was a warning to regulators and lawmakers focusing on commonly held beliefs about the harmful effects of technology on young people's mental health. 'Negative well-being' Participants, in the US and UK, graded their own feelings using set questions with sliding scale responses. And they were asked about the duration of social-media or device activity but not more specifically how they had spent that time. The paper is published in the journal Clinical Psychological Science. In January 2021, a study suggested heavy social-media use was linked to negative well-being and self-esteem among teenagers. Other factors affecting young people's mental health include the coronavirus pandemic. And the UK government has announced a £500m investment in mental-health services, with £79m earmarked for children and young people.""",
        """Sony will integrate the popular online chat platform Discord into its PlayStation Network by 2022. The electronics giant has invested in the app and now holds a minority stake in the company. Discord is used by more than 140 million gamers each month, mainly on PC and mobile devices. Gaming experts hope the partnership will enable gamers using different consoles and devices to interact more easily. ‘Closer together' “We’re constantly looking for new ways to enable players around the world to connect with one another, form new friendships and communities, and share fun experiences and lasting memories,” Sony president and chief executive Jim Ryan said in a blog post. “Our goal is to bring the Discord and PlayStation experiences closer together on console and mobile starting early next year, allowing friends, groups, and communities to hang out, have fun, and communicate more easily while playing games together.” The two firms are already working on the integration, he added. The BBC is not responsible for the content of external sites. View original tweet on Twitter Gaming rivals The partnership comes just two weeks after Discord rejected a $12bn (£8.7bn) offer from Microsoft to buy the company. According to Bloomberg, the messaging platform turned down the deal to focus on a potential public listing in the future. The investment from Sony is part of a $100m Discord funding round. “Microsoft, Sony's only real rival in the console space, has potentially massively dropped the ball by letting Discord get away and now be tightly integrated into the Playstation ecosystem,” mobile gaming expert Matthew Gribben said. “[The partnership] demonstrates a significant acknowledgement by Sony of the value that the gamer and game-streaming community have.” Sony launched its latest PlayStation last November and it has been frequently out of stock ever since. media captionWATCH: Hands-on with the PS5 But it is up against popular rivals including Microsoft’s Xbox, which also released a new console last year that was in equally high demand, and Nintendo’s Switch, which has sold more than 79 million units since its launch in 2017. What is Discord? Launched in 2015, Discord is a free service that allows gamers to chat over video, audio calls or text messages. It rose in popularity among players of popular gaming titles including Fortnite, Among Us and Minecraft. The Discord app is already available on Xbox One, Xbox Series S and Xbox Series X. It can also be downloaded on PCs and smartphones. “Adding the PS5 to the list of supported platforms is a crucial step forwards as it provides a common medium for communication, one of the primary issues faced by cross-platform multiplayer,” Sam Connolly, at the University of Central Lancashire, said. “Going forward, we could see fewer issues between friends not being able to play with one another due to owning different consoles.” Cross-play The new partnership suggests Sony is being more supportive of cross-play - where people using different devices, such as a console or computer, can play the same game. “Overall, this will improve the user experience for the players,” said Louise Shorthouse, senior games analyst at Ampere Analysis. “The partnership will boost Sony's reputation among social gamers, where it has traditionally lagged behind due to its unwillingness to allow cross-platform play. “Multiplayer and social gaming is an ever-expanding segment that's not going away any time soon.” It comes as emails have revealed Sony’s previous opposition to cross-play, which tech news site the Verge first reported. The 2018 conversation is related to Sony blocking cross-play on Epic’s Fortnite, which it eventually allowed later that year. Gio Corsi, Sony’s senior director of developer relations at the time, wrote “cross-platform play is not a slam dunk, no matter the size of the title”. “As you know, many companies are exploring this idea and not a single one can explain how cross-console play improves the PlayStation business,” he added."""
    ]
    tfidf = TfidfVectorizer()

    responses = tfidf.fit_transform(corpus)
    feature_names = np.array(tfidf.get_feature_names())

    def get_top_tf_idf_words(response, top_n=2):
        sorted_nzs = np.argsort(response.data)[:-(top_n+1):-1]
        return feature_names[response.indices[sorted_nzs]]
    
    print([get_top_tf_idf_words(response,3) for response in responses])
main()